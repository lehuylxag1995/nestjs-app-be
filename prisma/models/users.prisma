enum Role {
    ADMIN // CRUD tất cả
    STAFF // quản lý kho, phiếu nhập, xuất, snapshot
    CUSTOMER // đặt hàng
}

model User {
    id       String  @id @default(uuid())
    //Thông tin định danh chung
    name     String  @unique
    email    String  @unique
    phone    String  @unique
    password String
    address  String  @unique
    CCCD     String? @unique
    isActive Boolean @default(true)
    role     Role    @default(CUSTOMER)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    // Nhân viên và khách hàng
    Images Image[]
    Files  File[]

    //Khách vãng lai
    Orders Order[]

    //Nhân viên 
    InventoryTransactions     InventoryTransaction[]
    Snapshots                 Snapshot[]
    PricingRules              PricingRule[]
    PurcharsOrder             PurcharsOrder[]
    PurchaseOrderItemReceipts PurchaseOrderItemReceipt[]

    @@index([CCCD, phone])
    @@map("Users")
}
