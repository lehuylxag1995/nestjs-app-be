enum Role {
    ADMIN // CRUD tất cả
    STAFF // quản lý kho, phiếu nhập, xuất, snapshot
    CUSTOMER // đặt hàng
}

model User {
    id       String  @id @default(uuid())
    //Thông tin định danh chung
    name     String  @unique
    email    String  @unique
    phone    String?
    password String
    address  String?
    CCCD     String?
    isActive Boolean @default(true)
    role     Role    @default(CUSTOMER)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    // Nhân viên và khách hàng
    Images Image[]
    Files  File[]

    //Khách vãng lai
    Order Order[]

    //Nhân viên 
    InventoryTransactions InventoryTransaction[]
    Snapshots             Snapshot[]
    createdPurcharsOrder  PurcharsOrder[]        @relation("PO_CreatedBy")
    recievedPurcharsOrder PurcharsOrder[]        @relation("PO_ReceivedBy")
    PricingRule           PricingRule[]

    @@index([CCCD, phone])
    @@map("Users")
}
